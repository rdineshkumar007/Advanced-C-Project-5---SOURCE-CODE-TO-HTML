<!DOCTYPE html>
<html>
<head>
<title>C Source Code</title>
<style>
body { font-family: Consolas, 'Courier New', monospace; background-color: #f8f8f8; margin: 20px; }
.code-container { background-color: white; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }
.preprocessor { color: #8B008B; font-weight: bold; }
.keyword { color: #0000FF; font-weight: bold; }
.number { color: #FF00FF; }
.string { color: #C41E3A; }
.char { color: #C41E3A; }
.comment { color: #008000; }
.operator { color: #000000; }
</style>
</head>
<body>
<div class="code-container">
<pre>
<span class="preprocessor">#include &lt;stdio.h&gt;
</span><span class="preprocessor">#include &lt;stdlib.h&gt;
</span><span class="preprocessor">#include &lt;string.h&gt;
</span><span class="preprocessor">#include &lt;ctype.h&gt;
</span><span class="preprocessor">#include &lt;stdbool.h&gt;
</span>
<span class="preprocessor">#define MAX_LINE_LENGTH 1024
</span><span class="preprocessor">#define MAX_TOKEN_LENGTH 256
</span>
<span class="comment">// Standard compiler colors</span>
<span class="preprocessor">#define COLOR_KEYWORD "#0000FF"        // Blue for keywords
</span><span class="preprocessor">#define COLOR_IDENTIFIER "#000000"     // Black for identifiers
</span><span class="preprocessor">#define COLOR_NUMBER "#FF00FF"         // Magenta for numbers
</span><span class="preprocessor">#define COLOR_STRING "#C41E3A"         // Red for strings
</span><span class="preprocessor">#define COLOR_CHAR "#C41E3A"           // Red for characters
</span><span class="preprocessor">#define COLOR_COMMENT "#008000"        // Green for comments
</span><span class="preprocessor">#define COLOR_PREPROCESSOR "#8B008B"   // Dark magenta for preprocessor
</span><span class="preprocessor">#define COLOR_OPERATOR "#000000"       // Black for operators
</span>
<span class="comment">// C keywords</span>
<span class="keyword">const</span> <span class="keyword">char</span> <span class="operator">*</span>keywords<span class="operator">[</span><span class="operator">]</span> <span class="operator">=</span> <span class="operator">{</span>
    <span class="string">"auto"</span><span class="operator">,</span> <span class="string">"break"</span><span class="operator">,</span> <span class="string">"case"</span><span class="operator">,</span> <span class="string">"char"</span><span class="operator">,</span> <span class="string">"const"</span><span class="operator">,</span> <span class="string">"continue"</span><span class="operator">,</span> <span class="string">"default"</span><span class="operator">,</span> <span class="string">"do"</span><span class="operator">,</span>
    <span class="string">"double"</span><span class="operator">,</span> <span class="string">"else"</span><span class="operator">,</span> <span class="string">"enum"</span><span class="operator">,</span> <span class="string">"extern"</span><span class="operator">,</span> <span class="string">"float"</span><span class="operator">,</span> <span class="string">"for"</span><span class="operator">,</span> <span class="string">"goto"</span><span class="operator">,</span> <span class="string">"if"</span><span class="operator">,</span>
    <span class="string">"int"</span><span class="operator">,</span> <span class="string">"long"</span><span class="operator">,</span> <span class="string">"register"</span><span class="operator">,</span> <span class="string">"return"</span><span class="operator">,</span> <span class="string">"short"</span><span class="operator">,</span> <span class="string">"signed"</span><span class="operator">,</span> <span class="string">"sizeof"</span><span class="operator">,</span> <span class="string">"static"</span><span class="operator">,</span>
    <span class="string">"struct"</span><span class="operator">,</span> <span class="string">"switch"</span><span class="operator">,</span> <span class="string">"typedef"</span><span class="operator">,</span> <span class="string">"union"</span><span class="operator">,</span> <span class="string">"unsigned"</span><span class="operator">,</span> <span class="string">"void"</span><span class="operator">,</span> <span class="string">"volatile"</span><span class="operator">,</span> <span class="string">"while"</span>
<span class="operator">}</span><span class="operator">;</span>
<span class="keyword">const</span> <span class="keyword">int</span> num_keywords <span class="operator">=</span> <span class="keyword">sizeof</span><span class="operator">(</span>keywords<span class="operator">)</span> <span class="operator">/</span> <span class="keyword">sizeof</span><span class="operator">(</span>keywords<span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span><span class="operator">;</span>

bool is_keyword<span class="operator">(</span><span class="keyword">const</span> <span class="keyword">char</span> <span class="operator">*</span>str<span class="operator">)</span><span class="operator">;</span>
bool is_identifier_char<span class="operator">(</span><span class="keyword">char</span> c<span class="operator">)</span><span class="operator">;</span>

<span class="keyword">void</span> process_file<span class="operator">(</span><span class="keyword">const</span> <span class="keyword">char</span> <span class="operator">*</span>input_filename<span class="operator">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="operator">*</span>output_filename<span class="operator">)</span> <span class="operator">{</span>
    FILE <span class="operator">*</span>input_file <span class="operator">=</span> fopen<span class="operator">(</span>input_filename<span class="operator">,</span> <span class="string">"r"</span><span class="operator">)</span><span class="operator">;</span>
    FILE <span class="operator">*</span>output_file <span class="operator">=</span> fopen<span class="operator">(</span>output_filename<span class="operator">,</span> <span class="string">"w"</span><span class="operator">)</span><span class="operator">;</span>

    <span class="keyword">if</span> <span class="operator">(</span><span class="operator">!</span>input_file <span class="operator">||</span> <span class="operator">!</span>output_file<span class="operator">)</span> <span class="operator">{</span>
        printf<span class="operator">(</span><span class="string">"Error opening files!\n"</span><span class="operator">)</span><span class="operator">;</span>
        exit<span class="operator">(</span><span class="number">1</span><span class="operator">)</span><span class="operator">;</span>
    <span class="operator">}</span>

    <span class="comment">// Write HTML header</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;!DOCTYPE html&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;html&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;head&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;title&gt;C Source Code&lt;/title&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;style&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"body { font-family: Consolas, 'Courier New', monospace; background-color: #f8f8f8; margin: 20px; }\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">".code-container { background-color: white; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">".preprocessor { color: %s; font-weight: bold; }\n"</span><span class="operator">,</span> COLOR_PREPROCESSOR<span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">".keyword { color: %s; font-weight: bold; }\n"</span><span class="operator">,</span> COLOR_KEYWORD<span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">".number { color: %s; }\n"</span><span class="operator">,</span> COLOR_NUMBER<span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">".string { color: %s; }\n"</span><span class="operator">,</span> COLOR_STRING<span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">".char { color: %s; }\n"</span><span class="operator">,</span> COLOR_CHAR<span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">".comment { color: %s; }\n"</span><span class="operator">,</span> COLOR_COMMENT<span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">".operator { color: %s; }\n"</span><span class="operator">,</span> COLOR_OPERATOR<span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/style&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/head&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;body&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;div class=\"</span>code<span class="operator">-</span>container\<span class="string">"&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;pre&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>

    <span class="keyword">char</span> line<span class="operator">[</span>MAX_LINE_LENGTH<span class="operator">]</span><span class="operator">;</span>
    bool in_comment <span class="operator">=</span> false<span class="operator">;</span>
    bool in_string <span class="operator">=</span> false<span class="operator">;</span>
    bool in_char <span class="operator">=</span> false<span class="operator">;</span>

    <span class="keyword">while</span> <span class="operator">(</span>fgets<span class="operator">(</span>line<span class="operator">,</span> <span class="keyword">sizeof</span><span class="operator">(</span>line<span class="operator">)</span><span class="operator">,</span> input_file<span class="operator">)</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">int</span> i <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span>
        bool in_preprocessor <span class="operator">=</span> false<span class="operator">;</span>

        <span class="keyword">while</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">!=</span> <span class="char">'\0'</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="comment">// Start of preprocessor line</span>
            <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'#'</span> <span class="operator">&&</span> <span class="operator">!</span>in_comment <span class="operator">&&</span> <span class="operator">!</span>in_string <span class="operator">&&</span> <span class="operator">!</span>in_char <span class="operator">&&</span> <span class="operator">!</span>in_preprocessor<span class="operator">)</span> <span class="operator">{</span>
                fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;span class=\"</span>preprocessor\<span class="string">"&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                in_preprocessor <span class="operator">=</span> true<span class="operator">;</span>
            <span class="operator">}</span>

            <span class="comment">// Handle preprocessor line completely</span>
            <span class="keyword">if</span> <span class="operator">(</span>in_preprocessor<span class="operator">)</span> <span class="operator">{</span>
                <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'<'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;lt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'>'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;gt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'&'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;amp;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>

                <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'\n'</span> <span class="operator">||</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'\0'</span><span class="operator">)</span> <span class="operator">{</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/span&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                    in_preprocessor <span class="operator">=</span> false<span class="operator">;</span>
                <span class="operator">}</span>
                i<span class="operator">++</span><span class="operator">;</span>
                <span class="keyword">continue</span><span class="operator">;</span>
            <span class="operator">}</span>

            <span class="comment">// Handle comments</span>
            <span class="keyword">if</span> <span class="operator">(</span><span class="operator">!</span>in_string <span class="operator">&&</span> <span class="operator">!</span>in_char<span class="operator">)</span> <span class="operator">{</span>
                <span class="keyword">if</span> <span class="operator">(</span><span class="operator">!</span>in_comment <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'/'</span> <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">+</span><span class="number">1</span><span class="operator">]</span> <span class="operator">==</span> <span class="char">'/'</span><span class="operator">)</span> <span class="operator">{</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;span class=\"</span>comment\<span class="string">"&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                    <span class="keyword">while</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">!=</span> <span class="char">'\0'</span> <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">!=</span> <span class="char">'\n'</span><span class="operator">)</span> <span class="operator">{</span>
                        <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'<'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;lt;"</span><span class="operator">)</span><span class="operator">;</span>
                        <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'>'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;gt;"</span><span class="operator">)</span><span class="operator">;</span>
                        <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'&'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;amp;"</span><span class="operator">)</span><span class="operator">;</span>
                        <span class="keyword">else</span> fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                        i<span class="operator">++</span><span class="operator">;</span>
                    <span class="operator">}</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/span&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                    <span class="keyword">continue</span><span class="operator">;</span>
                <span class="operator">}</span>

                <span class="keyword">if</span> <span class="operator">(</span><span class="operator">!</span>in_comment <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'/'</span> <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">+</span><span class="number">1</span><span class="operator">]</span> <span class="operator">==</span> <span class="char">'*'</span><span class="operator">)</span> <span class="operator">{</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;span class=\"</span>comment\<span class="string">"&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                    in_comment <span class="operator">=</span> true<span class="operator">;</span>
                <span class="operator">}</span>

                <span class="keyword">if</span> <span class="operator">(</span>in_comment <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'*'</span> <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">+</span><span class="number">1</span><span class="operator">]</span> <span class="operator">==</span> <span class="char">'/'</span><span class="operator">)</span> <span class="operator">{</span>
                    fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                    fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">+</span><span class="number">1</span><span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/span&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                    in_comment <span class="operator">=</span> false<span class="operator">;</span>
                    i <span class="operator">+=</span> <span class="number">2</span><span class="operator">;</span>
                    <span class="keyword">continue</span><span class="operator">;</span>
                <span class="operator">}</span>
            <span class="operator">}</span>

            <span class="keyword">if</span> <span class="operator">(</span>in_comment<span class="operator">)</span> <span class="operator">{</span>
                <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'<'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;lt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'>'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;gt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'&'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;amp;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                i<span class="operator">++</span><span class="operator">;</span>
                <span class="keyword">continue</span><span class="operator">;</span>
            <span class="operator">}</span>

            <span class="comment">// Handle strings</span>
            <span class="keyword">if</span> <span class="operator">(</span><span class="operator">!</span>in_char <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'"'</span> <span class="operator">&&</span> <span class="operator">!</span>in_comment<span class="operator">)</span> <span class="operator">{</span>
                <span class="keyword">if</span> <span class="operator">(</span><span class="operator">!</span>in_string<span class="operator">)</span> <span class="operator">{</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;span class=\"</span>string\<span class="string">"&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                    in_string <span class="operator">=</span> true<span class="operator">;</span>
                <span class="operator">}</span> <span class="keyword">else</span> <span class="operator">{</span>
                    fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/span&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                    in_string <span class="operator">=</span> false<span class="operator">;</span>
                    i<span class="operator">++</span><span class="operator">;</span>
                    <span class="keyword">continue</span><span class="operator">;</span>
                <span class="operator">}</span>
            <span class="operator">}</span>

            <span class="comment">// Handle characters</span>
            <span class="keyword">if</span> <span class="operator">(</span><span class="operator">!</span>in_string <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'\''</span> <span class="operator">&&</span> <span class="operator">!</span>in_comment <span class="operator">&&</span> <span class="operator">!</span>in_char<span class="operator">)</span> <span class="operator">{</span>
                fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;span class=\"</span><span class="keyword">char</span>\<span class="string">"&gt;"</span><span class="operator">)</span><span class="operator">;</span>

                <span class="comment">// Output the entire character literal</span>
                fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>  <span class="comment">// Output the opening quote</span>
                i<span class="operator">++</span><span class="operator">;</span>

                <span class="comment">// Output until closing quote (handle escaped quotes)</span>
                <span class="keyword">while</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">!=</span> <span class="char">'\0'</span> <span class="operator">&&</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">!=</span> <span class="char">'\n'</span><span class="operator">)</span> <span class="operator">{</span>
                    fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>

                    <span class="comment">// If we find a quote that's not escaped, end the character literal</span>
                    <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'\''</span> <span class="operator">&&</span> <span class="operator">(</span>i <span class="operator">==</span> <span class="number">0</span> <span class="operator">||</span> line<span class="operator">[</span>i<span class="operator">-</span><span class="number">1</span><span class="operator">]</span> <span class="operator">!=</span> <span class="char">'\\')) {</span>
                        i<span class="operator">++</span><span class="operator">;</span>
                        <span class="keyword">break</span><span class="operator">;</span>
                    <span class="operator">}</span>
                    i<span class="operator">++</span><span class="operator">;</span>
                <span class="operator">}</span>

                fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/span&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">continue</span><span class="operator">;</span>
            <span class="operator">}</span>

            <span class="keyword">if</span> <span class="operator">(</span>in_string <span class="operator">||</span> in_char<span class="operator">)</span> <span class="operator">{</span>
                <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'<'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;lt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'>'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;gt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'&'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;amp;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">else</span> fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                i<span class="operator">++</span><span class="operator">;</span>
                <span class="keyword">continue</span><span class="operator">;</span>
            <span class="operator">}</span>

            <span class="comment">// Handle numbers</span>
            <span class="keyword">if</span> <span class="operator">(</span>isdigit<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">)</span><span class="operator">)</span> <span class="operator">{</span>
                fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;span class=\"</span>number\<span class="string">"&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">while</span> <span class="operator">(</span>isdigit<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">)</span> <span class="operator">||</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'.'</span> <span class="operator">||</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'e'</span> <span class="operator">||</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'E'</span> <span class="operator">||</span>
                       line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'+'</span> <span class="operator">||</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'-'</span><span class="operator">)</span> <span class="operator">{</span>
                    fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                    i<span class="operator">++</span><span class="operator">;</span>
                <span class="operator">}</span>
                fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/span&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">continue</span><span class="operator">;</span>
            <span class="operator">}</span>

            <span class="comment">// Handle operators</span>
            <span class="keyword">if</span> <span class="operator">(</span>strchr<span class="operator">(</span><span class="string">"+-*/%=&amp;|&lt;&gt;!~^(){}[];,:."</span><span class="operator">,</span> line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">)</span><span class="operator">)</span> <span class="operator">{</span>
                fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;span class=\"</span>operator\<span class="string">"&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                i<span class="operator">++</span><span class="operator">;</span>
                <span class="keyword">if</span> <span class="operator">(</span>strchr<span class="operator">(</span><span class="string">"=+&amp;-|&lt;&gt;"</span><span class="operator">,</span> line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">)</span><span class="operator">)</span> <span class="operator">{</span>
                    fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
                    i<span class="operator">++</span><span class="operator">;</span>
                <span class="operator">}</span>
                fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/span&gt;"</span><span class="operator">)</span><span class="operator">;</span>
                <span class="keyword">continue</span><span class="operator">;</span>
            <span class="operator">}</span>

            <span class="comment">// Handle identifiers and keywords</span>
            <span class="keyword">if</span> <span class="operator">(</span>isalpha<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">)</span> <span class="operator">||</span> line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'_'</span><span class="operator">)</span> <span class="operator">{</span>
                <span class="keyword">char</span> token<span class="operator">[</span>MAX_TOKEN_LENGTH<span class="operator">]</span><span class="operator">;</span>
                <span class="keyword">int</span> j <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span>

                <span class="keyword">while</span> <span class="operator">(</span>is_identifier_char<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">)</span> <span class="operator">&&</span> j <span class="operator"><</span> MAX_TOKEN_LENGTH <span class="operator">-</span> <span class="number">1</span><span class="operator">)</span> <span class="operator">{</span>
                    token<span class="operator">[</span>j<span class="operator">++</span><span class="operator">]</span> <span class="operator">=</span> line<span class="operator">[</span>i<span class="operator">++</span><span class="operator">]</span><span class="operator">;</span>
                <span class="operator">}</span>
                token<span class="operator">[</span>j<span class="operator">]</span> <span class="operator">=</span> <span class="char">'\0'</span><span class="operator">;</span>

                <span class="keyword">if</span> <span class="operator">(</span>is_keyword<span class="operator">(</span>token<span class="operator">)</span><span class="operator">)</span> <span class="operator">{</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;span class=\"</span>keyword\<span class="string">"&gt;%s&lt;/span&gt;"</span><span class="operator">,</span> token<span class="operator">)</span><span class="operator">;</span>
                <span class="operator">}</span> <span class="keyword">else</span> <span class="operator">{</span>
                    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"%s"</span><span class="operator">,</span> token<span class="operator">)</span><span class="operator">;</span>
                <span class="operator">}</span>
                <span class="keyword">continue</span><span class="operator">;</span>
            <span class="operator">}</span>

            <span class="comment">// Default case - preserve all whitespace and formatting</span>
            <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'<'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;lt;"</span><span class="operator">)</span><span class="operator">;</span>
            <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'>'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;gt;"</span><span class="operator">)</span><span class="operator">;</span>
            <span class="keyword">else</span> <span class="keyword">if</span> <span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span> <span class="operator">==</span> <span class="char">'&'</span><span class="operator">)</span> fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&amp;amp;"</span><span class="operator">)</span><span class="operator">;</span>
            <span class="keyword">else</span> fputc<span class="operator">(</span>line<span class="operator">[</span>i<span class="operator">]</span><span class="operator">,</span> output_file<span class="operator">)</span><span class="operator">;</span>
            i<span class="operator">++</span><span class="operator">;</span>
        <span class="operator">}</span>

        <span class="comment">// Close preprocessor if still open</span>
        <span class="keyword">if</span> <span class="operator">(</span>in_preprocessor<span class="operator">)</span> <span class="operator">{</span>
            fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/span&gt;"</span><span class="operator">)</span><span class="operator">;</span>
        <span class="operator">}</span>
    <span class="operator">}</span>

    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/pre&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/div&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/body&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>
    fprintf<span class="operator">(</span>output_file<span class="operator">,</span> <span class="string">"&lt;/html&gt;\n"</span><span class="operator">)</span><span class="operator">;</span>

    fclose<span class="operator">(</span>input_file<span class="operator">)</span><span class="operator">;</span>
    fclose<span class="operator">(</span>output_file<span class="operator">)</span><span class="operator">;</span>
<span class="operator">}</span>

bool is_keyword<span class="operator">(</span><span class="keyword">const</span> <span class="keyword">char</span> <span class="operator">*</span>str<span class="operator">)</span> <span class="operator">{</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">int</span> i <span class="operator">=</span> <span class="number">0</span><span class="operator">;</span> i <span class="operator"><</span> num_keywords<span class="operator">;</span> i<span class="operator">++</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">if</span> <span class="operator">(</span>strcmp<span class="operator">(</span>str<span class="operator">,</span> keywords<span class="operator">[</span>i<span class="operator">]</span><span class="operator">)</span> <span class="operator">==</span> <span class="number">0</span><span class="operator">)</span> <span class="keyword">return</span> true<span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">return</span> false<span class="operator">;</span>
<span class="operator">}</span>

bool is_identifier_char<span class="operator">(</span><span class="keyword">char</span> c<span class="operator">)</span> <span class="operator">{</span>
    <span class="keyword">return</span> isalnum<span class="operator">(</span>c<span class="operator">)</span> <span class="operator">||</span> c <span class="operator">==</span> <span class="char">'_'</span><span class="operator">;</span>
<span class="operator">}</span>

<span class="keyword">int</span> main<span class="operator">(</span><span class="keyword">int</span> argc<span class="operator">,</span> <span class="keyword">char</span> <span class="operator">*</span>argv<span class="operator">[</span><span class="operator">]</span><span class="operator">)</span> <span class="operator">{</span>
    <span class="keyword">if</span> <span class="operator">(</span>argc <span class="operator">!=</span> <span class="number">3</span><span class="operator">)</span> <span class="operator">{</span>
        printf<span class="operator">(</span><span class="string">"Usage: %s input.c output.html\n"</span><span class="operator">,</span> argv<span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span><span class="operator">;</span>
        <span class="keyword">return</span> <span class="number">1</span><span class="operator">;</span>
    <span class="operator">}</span>

    process_file<span class="operator">(</span>argv<span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">,</span> argv<span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">)</span><span class="operator">;</span>
    printf<span class="operator">(</span><span class="string">"HTML file generated: %s\n"</span><span class="operator">,</span> argv<span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">)</span><span class="operator">;</span>
    <span class="keyword">return</span> <span class="number">0</span><span class="operator">;</span>
<span class="operator">}</span>
</pre>
</div>
</body>
</html>
